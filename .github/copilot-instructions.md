# プロジェクト概要
このプロジェクトは万年筆・つけペン用インクのレビュー投稿・共有ウェブサービスです。

## 開発環境
- Ruby 3.3.6
- Rails 7.2
- docker
- postgreSQL
その他使用gemはGemfile及びGemfile.lockを参照してください。

## 共通設定
- 日本語で回答してください
- 簡潔で分かりやすい説明を心がけてください
- ベストプラクティスの具体例を提示してください
- 学習リソースの提案を積極的に行ってください
- スケーラビリティとパフォーマンスを重点的にチェックしてください

## コードレビュー専用指示
### レビューの基本方針
以下のプレフィックスを使用してレビューコメントを分類してください：
- `[must]` - 必須修正項目（セキュリティ、バグ、重大な設計問題）
- `[recommend]`  - 推奨修正項目（パフォーマンス、可読性の大幅改善）
- `[nits]` - 軽微な指摘(nitpick) 
- `[ask]` - 質問  
- `[fyi]` - 参考情報

### 重点チェック項目
1. **セキュリティ**: SQLインジェクション、XSS、認証・認可の不備
2. **パフォーマンス**: N+1問題、不要なループ、メモリリーク
3. **可読性**: 変数名、関数名、コメントの適切性
4. **保守性**: DRY原則、SOLID原則の遵守
5. **テスト**: テストケースの網羅性、エッジケースの考慮
6. **言語固有のベストプラクティス**: 各言語の推奨パターンに準拠しているか、非推奨・廃止予定のAPIや構文を使用していないかチェック

### Ruby on Rails 固有ルール
- Rubyの慣用的な書き方（idiomatic Ruby）の確認
- ActiveRecordのN+1問題の検出と`includes`や`joins`の適切な使用
- CSRF対策とセキュリティベストプラクティス
- Railsの命名規則とRESTfulな設計の遵守
- nilを考慮する必要がある箇所での安全ナビゲーション演算子(&.)の使用確認
- 非推奨なRailsメソッドの使用チェック
- データベースマイグレーションの安全性確認
Railsの規約に沿っていない箇所があれば、具体的な修正案とともに指摘してください。

